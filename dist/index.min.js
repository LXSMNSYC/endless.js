var Endless=function(){"use strict";const{isNaN:t}=Number;class e{constructor(e){this.expr=e;const r=[];return this.memory=r,this.generator=(()=>{let t=0,i=0;return()=>{for(;;){const n=e(t++);if(void 0!==n)return r[i++]=n}}})(),new Proxy(this,{get:(e,r)=>r in e&&e[r]||(t(r)?void 0:this.get(r)),set:(e,i,n)=>!t(i)&&(r[i]=n)})}get(t){const{memory:e}=this;for(;void 0===e[t];)this.generator();return e[t]}flat(){let t=[],r=0;return new e(e=>{for(;void 0===t[e];)t=t.concat(this[r++]);return t[e]})}flatMap(t){return this.map(e=>t(e)).flat()}map(t){return new e(e=>t(this[e]))}filter(t){return this.map(e=>t(e)?e:void 0)}find(t){let e=0;for(;!t(this[e]);)e+=1;return e}findIndeces(t){return new e(e=>t(this[e])?e:void 0)}indexOf(t){return this.find(e=>e===t)}deleteBy(t){const r=this.find(t);return new e(t=>t===r?void 0:this[t])}delete(t){return this.deleteBy(e=>e===t)}skip(t){return new e(e=>this[e+t])}skipWhile(t){const r=this.find(e=>!t(e));return new e(t=>t<r?void 0:this[t])}skipUntil(t){const r=this.find(e=>t(e));return new e(t=>t<r?void 0:this[t])}drop(t){return this.skip(t)}dropWhile(t){return this.skipWhile(t)}dropUntil(t){return this.skipUntil(t)}step(t){return new e(e=>this[e*t])}startWith(t){return new e(e=>t.length>e?t[e]:this[e-t.length])}take(t){const e=[];for(let r=0;r<t;)e.push(this[r++]);return e}takeWhile(t){const e=[];for(let r=0;t(this[r]);)e.push(this[r++]);return e}takeUntil(t){const e=[];for(let r=0;!t(this[r]);)e.push(this[r++]);return e}splitAt(t){return[this.take(t),this.skip(t)]}span(t){return[this.takeWhile(t),this.skipWhile(t)]}break(t){return[this.takeUntil(t),this.skipUntil(t)]}partition(t){return[this.filter(t),this.filter(e=>!t(e))]}intercalate(t){return this.flatMap(e=>[e,...t])}intersperse(...t){return this.intercalate(t)}group(t){return new e(e=>this.skip(e*t).take(t))}static cycle(t){const r=t.length;return new e(e=>t[e%r])}static repeat(...t){return e.cycle(t)}static zip(...t){return new e(e=>{const r=[];for(const i of t)r.push(i[e]);return r})}[Symbol.iterator](){let t=0;return{next:()=>this[t++]}}}return e}();